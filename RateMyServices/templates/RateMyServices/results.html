{% extends "RateMyServices/base.html" %}

{% block title %}Welcome to RateMyServices!!{% endblock %}

{% block content%}
	<form class="p-3" action="{% url 'RateMyServices:filter' gUser.id %}" method="post">
		{%csrf_token%}
		<div class="input-group">
			<div class="input-group-prepend">
				<span class="input-group-text">Filter By Rating</span>
			</div>
			<div class="btn-group btn-group-toggle" data-toggle="buttons">
				<button class="rounded-0 btn btn-outline-secondary" type="submit" name="rating" id="rating1" value="1">1+</button>
				<button class="btn btn-outline-secondary" type="submit" name="rating" id="rating2" value="2">2+</button>
				<button class="btn btn-outline-secondary" type="submit" name="rating" id="rating3" value="3">3+</button>
				<button class="btn btn-outline-secondary" type="submit" name="rating" id="rating4" value="4">4+</button>
				<button class="btn btn-outline-secondary" type="submit" name="rating" id="rating5" value="5">5</button>
			</div>
		</div>
		
		<div class="mt-2 input-group">
			<div class="input-group-prepend">
				<span class="input-group-text">Filter By Rate </span>
				<span class="input-group-text"> < </span>
			</div>
			<div class="btn-group">
				<button class="rounded-0 btn btn-outline-secondary" type="submit" name="rate" id="rate1" value="10">$10</button>
				<button class="btn btn-outline-secondary" type="submit" name="rate" id="rate2" value="20">$20</button>
				<button class="btn btn-outline-secondary" type="submit" name="rate" id="rate3" value="30">$30</button>
				<button class="btn btn-outline-secondary" type="submit" name="rate" id="rate4" value="40">$40</button>
				<button class="rounded-0 btn btn-outline-secondary" type="submit" name="rate" id="rate5" value="50">$50</button>
			</div>
			<div class="input-group-append">
					<span class="input-group-text">/hour </span>
				</div>
		</div>
	</form>

	<div class="row flex-row overflow-auto">
	{% if services %}
		{% for i in services %}
			<div class="col">
				<div class="card m-2" style="width: 20rem;">
					<!-- <img src="{{i.imgUrls}}" class="card-img-top" alt="ad images" style="height: 200px; background-color: lightgray;"> -->
					<div class="card-body">
						<div class="row">
							<div class="col-2">
								<!-- <img class="rounded-circle" height="45px" width="45px" src="" alt="" style="background-color: beige;"> -->
								<i class="fa fa-user-circle fa-3x"></i>
							</div>
							<div class="col-10 pl-4">
								<h5 class="card-title mb-2 text-success">{{i.service}}</h5>
								<h6 class="mb-0">{{i.provider.generalUserID.first_name}} {{i.provider.generalUserID.last_name}}</h6>
								<h6 class="text-muted font-italic"> {{i.provider.title}}</h6>
							</div>
						</div>
						<div class="d-flex justify-content-end">
								<p class="my-0 small">{{i.provider.generalUserID.city}}, {{i.provider.generalUserID.state}}</p>
								<!-- <p class="my-0 small">518-000-0000</p>
								<p class="my-0 small">abc@gmail.com</p> -->
						</div>
						<div class="d-flex justify-content-center">
							<p class="card-text my-5">"{{i.description}}"</p>
						</div>
						<div class="d-flex justify-content-between">
							<p><strong>Rate: </strong> {{i.avg_rating}} ()</p>
							<p><strong>Avg rates: </strong>${{i.rate}}/hr</p>
						</div>
						<a href="{% url 'RateMyServices:professional_profile' i.id %}" class="btn btn-sm btn-success float-right">View Profile</a>
					</div>
				</div>
			</div>
			{% endfor %}	
		<!-- {% for p in services %}
			<div class="match-card">
				<div class="puser-container">
					<i class="fa fa-user-circle fa-3x"></i>
					<div class="puser-text">
						<a href="{% url 'RateMyServices:professional_profile' p.id %}"><p>{{p.provider.generalUserID.first_name}} {{p.provider.generalUserID.last_name}}</p></a>
						<h3>{{p.provider.title}}</h3>
					</div>
					<div class="puser-service">
						<h4>{{p.service}}</h4>
					</div>
					<div class="contact-info">
						<p>{{p.provider.generalUserID.city}}, {{p.provider.generalUserID.state}}</p>
						<p>{{p.provider.generalUserID.phone}}</p>
						<p>{{p.provider.generalUserID.email}}</p>
					</div>
					<div class="description">
						<p>"{{p.provider.description}}"</p>
					</div>
					<div class="rating">
						<p>Rate: {{p.rate}} | {{p.num_rating}}(# of reviews)</p>
					</div>
				</div>
			<div>
		{% endfor %}
		 -->
	{% else %}
		<p>No Services Avialable<p>
	{% endif %}
	</div>
{% endblock %}